<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Internal IZI - Navigasi Atas PMK 114/2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        izigreen: '#00A651',
                        izidark: '#008542',
                        izilight: '#e6f6ee',
                    }
                }
            }
        }
    </script>
    <style>
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #f1f1f4; }
        ::-webkit-scrollbar-thumb { background: #00A651; border-radius: 10px; }
        
        .fade-in { animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { 
            from { opacity: 0; transform: translateY(10px); } 
            to { opacity: 1; transform: translateY(0); } 
        }

        .nav-link.active {
            color: #00A651;
            border-bottom: 3px solid #00A651;
        }
        
        .chart-container { 
            position: relative; 
            width: 100%; 
            height: 300px; 
            margin: 0 auto; 
        }

        /* Prevent content jump behind fixed header */
        body { padding-top: 72px; }
    </style>
    <!-- Chosen Palette: IZI Brand Colors (#00A651) -->
    <!-- Application Structure Plan: 
         - Top Navigation: Fixed header for better mobile accessibility.
         - Isu & Konteks: Berita riil PMK 114/2025 (Status 2026).
         - Bedah Pasal: Penjelasan teknis untuk internal.
         - Kalkulator: Simulasi pajak berbasis PMK terbaru.
         - Strategi: Matriks kepatuhan organisasi.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="bg-stone-50 text-slate-800 font-sans antialiased">

    <!-- Top Navigation Header -->
    <header class="fixed top-0 left-0 right-0 bg-white border-b border-stone-200 z-50 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo Section -->
                <div class="flex items-center gap-3">
                    <div class="w-8 h-8 bg-izigreen rounded-lg flex items-center justify-center text-white font-black text-lg shadow-sm">I</div>
                    <div>
                        <h1 class="font-bold text-xs text-izidark uppercase tracking-tighter hidden sm:block">Portal Internal IZI</h1>
                        <p class="text-[9px] text-stone-400 font-bold tracking-widest uppercase">PMK 114/2025</p>
                    </div>
                </div>

                <!-- Desktop Menu -->
                <nav class="hidden md:flex space-x-6 h-full">
                    <button onclick="navigateTo('news')" class="nav-link active px-1 pt-1 text-sm font-bold text-stone-500 hover:text-izigreen transition-all flex items-center">Isu Terkini</button>
                    <button onclick="navigateTo('rules')" class="nav-link px-1 pt-1 text-sm font-bold text-stone-500 hover:text-izigreen transition-all flex items-center">Bedah Pasal</button>
                    <button onclick="navigateTo('calc')" class="nav-link px-1 pt-1 text-sm font-bold text-stone-500 hover:text-izigreen transition-all flex items-center">Kalkulator Pajak</button>
                    <button onclick="navigateTo('strategy')" class="nav-link px-1 pt-1 text-sm font-bold text-stone-500 hover:text-izigreen transition-all flex items-center">Matriks Kepatuhan</button>
                </nav>

                <!-- Mobile Menu Button -->
                <div class="md:hidden flex items-center">
                    <button onclick="toggleMobileMenu()" class="text-stone-500 hover:text-izigreen focus:outline-none p-2">
                        <span class="text-2xl" id="menu-icon">&#9776;</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu Dropdown -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-b border-stone-200 fade-in">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <button onclick="navigateTo('news')" class="block w-full text-left px-3 py-3 rounded-md text-base font-bold text-stone-600 hover:bg-izilight hover:text-izigreen">Isu Terkini</button>
                <button onclick="navigateTo('rules')" class="block w-full text-left px-3 py-3 rounded-md text-base font-bold text-stone-600 hover:bg-izilight hover:text-izigreen">Bedah Pasal</button>
                <button onclick="navigateTo('calc')" class="block w-full text-left px-3 py-3 rounded-md text-base font-bold text-stone-600 hover:bg-izilight hover:text-izigreen">Kalkulator Pajak</button>
                <button onclick="navigateTo('strategy')" class="block w-full text-left px-3 py-3 rounded-md text-base font-bold text-stone-600 hover:bg-izilight hover:text-izigreen">Matriks Kepatuhan</button>
            </div>
        </div>
    </header>

    <!-- Content Area -->
    <main class="max-w-7xl mx-auto p-4 md:p-8" id="main-view">
        <!-- Content will be dynamic -->
    </main>

    <script>
        // Data Facts for PMK 114/2025
        const newsData = [
            {
                tag: "UPDATE JANUARI 2026",
                title: "Resmi Berlaku: PMK 114/2025 Mengatur Ulang Standar Filantropi",
                desc: "Peraturan ini menyatukan semua aturan sumbangan keagamaan (zakat) dan hibah yang sebelumnya terfragmentasi. Fokus utamanya adalah validasi identitas pemberi sumbangan (NIK/NPWP) secara digital.",
                source: "JDIH Kemenkeu / Ortax"
            },
            {
                tag: "TEKNIS",
                title: "Integrasi BSZ ke Portal DJP Online",
                desc: "Mulai tahun pajak ini, Bukti Setor Zakat (BSZ) dari IZI wajib mencantumkan kode unik yang terverifikasi agar muzakki dapat melakukan klaim pengurangan penghasilan bruto secara instan di SPT.",
                source: "Analisis Tim IT & Pajak"
            },
            {
                tag: "KEPATUHAN",
                title: "Batasan Donasi Fasilitas Umum",
                desc: "Pasal 4 mengatur bahwa sumbangan selain zakat (pendidikan/olahraga) dibatasi 5% dari laba neto tahun lalu, sementara zakat tetap mengikuti persentase kewajiban syariat (2,5% - 10%).",
                source: "PMK 114 Pasal 4 & 8"
            }
        ];

        const ruleData = [
            { p: "Pasal 8", title: "Zakat Sebagai Pengurang", detail: "Menegaskan zakat yang dibayarkan ke BAZNAS/LAZ (IZI) mengurangi penghasilan bruto sebelum perhitungan pajak." },
            { p: "Pasal 13", title: "Validitas Lembaga", detail: "IZI wajib memiliki surat pengesahan sebagai lembaga penerima zakat yang sah untuk menerbitkan bukti setor yang diakui DJP." },
            { p: "Pasal 18", title: "Format Bukti Penerimaan", detail: "Wajib memuat: Nama, Alamat, NPWP/NIK, Tanggal, Jumlah Rupiah, dan Tanda Tangan/Validasi elektronik." },
            { p: "Pasal 19", title: "Laporan Berkala", detail: "Kewajiban IZI untuk melaporkan daftar muzakki kepada otoritas pajak guna memitigasi penyalahgunaan pengurangan pajak." }
        ];

        function navigateTo(viewId) {
            const main = document.getElementById('main-view');
            const menu = document.getElementById('mobile-menu');
            
            // Close mobile menu on navigate
            menu.classList.add('hidden');
            
            // UI Updates
            document.querySelectorAll('.nav-link').forEach(btn => {
                btn.classList.remove('active');
                if(btn.getAttribute('onclick').includes(viewId)) btn.classList.add('active');
            });

            main.innerHTML = '';
            main.className = 'max-w-7xl mx-auto p-4 md:p-8 fade-in';

            if (viewId === 'news') renderNews(main);
            if (viewId === 'rules') renderRules(main);
            if (viewId === 'calc') renderCalc(main);
            if (viewId === 'strategy') renderStrategy(main);
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        function renderNews(container) {
            container.innerHTML = `
                <div class="max-w-4xl mx-auto space-y-6">
                    <div class="bg-white p-6 rounded-3xl border border-stone-200 shadow-sm flex flex-col md:flex-row gap-6 items-center">
                        <div class="w-20 h-20 bg-izilight rounded-full flex items-center justify-center text-4xl shadow-inner">&#128240;</div>
                        <div class="text-center md:text-left">
                            <h2 class="text-2xl font-black text-slate-800">Isu & Konteks Regulasi</h2>
                            <p class="text-stone-500 text-sm">Update Fakta Berdasarkan PMK 114 Tahun 2025.</p>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 gap-4">
                        ${newsData.map(item => `
                            <div class="bg-white p-6 rounded-2xl border border-stone-100 shadow-sm hover:border-izigreen transition-all group">
                                <div class="flex justify-between items-center mb-3">
                                    <span class="px-2 py-0.5 rounded bg-izilight text-izidark text-[10px] font-black uppercase tracking-wider">${item.tag}</span>
                                </div>
                                <h4 class="text-lg font-bold text-slate-800 mb-2 group-hover:text-izigreen transition-colors leading-tight">${item.title}</h4>
                                <p class="text-stone-600 text-sm leading-relaxed mb-4">${item.desc}</p>
                                <div class="text-[10px] font-bold text-stone-400 flex items-center gap-2">
                                    <span class="w-1 h-3 bg-izigreen"></span> REFERENSI: ${item.source}
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function renderRules(container) {
            container.innerHTML = `
                <div class="max-w-5xl mx-auto space-y-8">
                    <h2 class="text-2xl font-black text-slate-800 uppercase tracking-tighter text-center">Analisis Teknis Pasal PMK 114</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        ${ruleData.map(r => `
                            <div class="bg-white p-5 rounded-2xl border border-stone-200 shadow-sm flex items-start gap-4">
                                <div class="w-10 h-10 bg-izigreen text-white rounded-lg flex-shrink-0 flex items-center justify-center font-black text-xs">
                                    ${r.p.split(' ')[1]}
                                </div>
                                <div>
                                    <h4 class="font-bold text-slate-800 mb-1">${r.p}: ${r.title}</h4>
                                    <p class="text-xs text-stone-600 leading-relaxed">${r.detail}</p>
                                </div>
                            </div>
                        `).join('')}
                    </div>

                    <div class="bg-izidark text-white p-6 rounded-3xl shadow-lg relative overflow-hidden text-center md:text-left">
                        <p class="text-lg font-bold leading-tight relative z-10">Seluruh BSZ yang diterbitkan IZI wajib menyertakan NIK/NPWP untuk validasi di sistem SPT Unifikasi 2026.</p>
                        <div class="absolute -right-5 -bottom-5 text-9xl opacity-10 font-black">?</div>
                    </div>
                </div>
            `;
        }

        function renderCalc(container) {
            container.innerHTML = `
                <div class="max-w-4xl mx-auto space-y-6">
                    <h2 class="text-2xl font-black text-slate-800 text-center">Kalkulator Pajak Muzakki</h2>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="bg-white p-6 rounded-3xl border border-stone-200 shadow-sm">
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-[10px] font-black text-stone-400 uppercase mb-2">Penghasilan Tahunan (Neto)</label>
                                    <input type="number" id="incVal" value="480000000" class="w-full bg-stone-50 p-4 rounded-xl border-none focus:ring-2 focus:ring-izigreen outline-none text-xl font-bold">
                                </div>
                                <div>
                                    <label class="block text-[10px] font-black text-stone-400 uppercase mb-2">Zakat Ke IZI (2,5%)</label>
                                    <input type="number" id="zakVal" value="12000000" class="w-full bg-stone-50 p-4 rounded-xl border-none focus:ring-2 focus:ring-izigreen outline-none text-xl font-bold">
                                </div>
                                <button onclick="calculatePajak()" class="w-full bg-izigreen text-white font-black py-4 rounded-xl hover:bg-izidark shadow-lg transition-all">Hitung Efisiensi</button>
                            </div>
                        </div>

                        <div class="space-y-4">
                            <div class="grid grid-cols-2 gap-4">
                                <div class="bg-white p-5 rounded-2xl border border-stone-100 text-center shadow-sm">
                                    <p class="text-[9px] font-bold text-stone-400 uppercase mb-1">Pajak Tanpa Zakat</p>
                                    <p class="text-sm font-black text-stone-700" id="res1">Rp 0</p>
                                </div>
                                <div class="bg-izilight p-5 rounded-2xl border border-izigreen/20 text-center shadow-sm">
                                    <p class="text-[9px] font-bold text-izidark uppercase mb-1">Pajak + Zakat IZI</p>
                                    <p class="text-sm font-black text-izigreen" id="res2">Rp 0</p>
                                </div>
                            </div>
                            <div class="bg-white p-4 rounded-2xl border border-stone-100 h-64">
                                <canvas id="chartPajak"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            setTimeout(calculatePajak, 100);
        }

        let currentChart = null;
        function calculatePajak() {
            const inc = parseFloat(document.getElementById('incVal').value) || 0;
            const zak = parseFloat(document.getElementById('zakVal').value) || 0;
            const rate = 0.25; 

            const t1 = inc * rate;
            const t2 = (inc - zak) * rate;

            document.getElementById('res1').innerText = 'Rp ' + t1.toLocaleString('id-ID');
            document.getElementById('res2').innerText = 'Rp ' + t2.toLocaleString('id-ID');

            const ctx = document.getElementById('chartPajak').getContext('2d');
            if (currentChart) currentChart.destroy();
            currentChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Tanpa Zakat', 'Dengan Zakat'],
                    datasets: [{
                        data: [t1, t2],
                        backgroundColor: ['#e5e7eb', '#00A651'],
                        borderRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: { y: { display: false }, x: { grid: { display: false } } }
                }
            });
        }

        function renderStrategy(container) {
            container.innerHTML = `
                <div class="max-w-5xl mx-auto space-y-6">
                    <h2 class="text-2xl font-black text-slate-800 text-center">Matriks Kepatuhan Internal 2026</h2>
                    
                    <div class="overflow-x-auto bg-white rounded-3xl border border-stone-200 shadow-sm">
                        <table class="w-full text-left text-xs min-w-[500px]">
                            <thead class="bg-stone-50 font-black text-stone-400 uppercase tracking-widest border-b border-stone-100">
                                <tr>
                                    <th class="p-5">Risiko Utama</th>
                                    <th class="p-5">Aturan PMK 114</th>
                                    <th class="p-5">Tindakan Mitigasi</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-stone-100">
                                <tr>
                                    <td class="p-5 font-bold">Identitas Tidak Valid</td>
                                    <td class="p-5 text-stone-600">Pasal 18: Syarat BSZ sah</td>
                                    <td class="p-5"><span class="bg-red-50 text-red-700 px-2 py-1 rounded font-bold uppercase text-[9px]">Wajibkan NIK/NPWP</span></td>
                                </tr>
                                <tr>
                                    <td class="p-5 font-bold">Keterlambatan Laporan</td>
                                    <td class="p-5 text-stone-600">Pasal 19: Laporan agregat muzakki</td>
                                    <td class="p-5"><span class="bg-amber-50 text-amber-700 px-2 py-1 rounded font-bold uppercase text-[9px]">Sistem Automasi Data</span></td>
                                </tr>
                                <tr>
                                    <td class="p-5 font-bold">Klaim Berlebih Muzakki</td>
                                    <td class="p-5 text-stone-600">Pasal 8: Tidak boleh rugi fiskal</td>
                                    <td class="p-5"><span class="bg-izilight text-izidark px-2 py-1 rounded font-bold uppercase text-[9px]">Edukasi Batasan Fiskal</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="bg-white p-6 rounded-2xl border border-stone-200 text-center">
                        <h4 class="font-bold text-slate-800 mb-2">Misi Utama Adaptasi</h4>
                        <p class="text-xs text-stone-500 italic">"Memastikan IZI tetap menjadi LAZ paling transparan dan mempermudah urusan dunia serta akhirat muzakki melalui kepatuhan regulasi PMK 114/2025."</p>
                    </div>
                </div>
            `;
        }

        // Initialize view
        document.addEventListener('DOMContentLoaded', () => navigateTo('news'));
    </script>
</body>
</html>
